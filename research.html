<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Research – Diogo Guillen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-0b37c64f34216b628666a8dac638b53b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Diogo Guillen</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" aria-current="page"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./policy.html"> 
<span class="menu-text">Policy &amp; Public Engagement</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./talks.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./cv.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="publications-peer-reviewed-journals" class="level2">
<h2 class="anchored" data-anchor-id="publications-peer-reviewed-journals">Publications (Peer-Reviewed Journals)</h2>
<section id="an-empirical-analysis-of-monetary-policy-committees-composition-and-its-relationship-with-monetary-policy-2024" class="level3">
<h3 class="anchored" data-anchor-id="an-empirical-analysis-of-monetary-policy-committees-composition-and-its-relationship-with-monetary-policy-2024">An Empirical Analysis of Monetary Policy Committees Composition and Its Relationship with Monetary Policy (2024)</h3>
<p><strong>with Guilherme Spilimbergo Costa</strong><br>
<em>Latin American Journal of Central Banking</em><br>
<a href="https://www.sciencedirect.com/science/article/pii/S2666143824000164">Article</a> · <a href="https://doi.org/10.1016/j.latcb.2024.100134">DOI</a></p>
<details>
<summary>
Abstract
</summary>
This paper studies how the composition of monetary policy committees affects monetary policy decisions. Using institutional variation across committees, we document systematic relationships between member characteristics and policy outcomes, highlighting the role of committee design for decision-making and credibility.
</details>
<hr>
</section>
<section id="international-macroeconomic-vulnerability-2024" class="level3">
<h3 class="anchored" data-anchor-id="international-macroeconomic-vulnerability-2024">International Macroeconomic Vulnerability (2024)</h3>
<p><strong>with Márcio Garcia, Bernardo Ribeiro, and João Velloso</strong><br>
<em>Journal of International Money and Finance</em><br>
<a href="https://www.sciencedirect.com/science/article/abs/pii/S0261560624000925">Article</a> · <a href="https://doi.org/10.1016/j.jimonfin.2024.103105">DOI</a></p>
<details>
<summary>
Abstract
</summary>
We study cross-country sources of macroeconomic vulnerability, emphasizing the interaction between external exposure, domestic policy frameworks, and financial conditions. The analysis shows how structural features shape the transmission of global shocks and the resilience of emerging economies.
</details>
<hr>
</section>
<section id="deep-learning-models-for-inflation-forecasting-2023" class="level3">
<h3 class="anchored" data-anchor-id="deep-learning-models-for-inflation-forecasting-2023">Deep Learning Models for Inflation Forecasting (2023)</h3>
<p><strong>with Alexandre Fernandes Theoharidis and Hedibert Lopes</strong><br>
<em>Applied Stochastic Models in Business and Industry</em><br>
<a href="https://onlinelibrary.wiley.com/doi/10.1002/asmb.2757">Article</a> · <a href="https://doi.org/10.1002/asmb.2757">DOI</a> · <a href="https://hedibert.org/wp-content/uploads/2023/03/theoharidis-guillen-lopes-2023.pdf">PDF</a></p>
<details>
<summary>
Abstract
</summary>
This paper evaluates the performance of deep learning models for inflation forecasting. We compare machine learning approaches to standard econometric benchmarks and show that nonlinear methods can deliver gains in predictive accuracy, particularly during periods of structural change.
</details>
<hr>
</section>
<section id="working-under-pressure-evidence-from-the-impacts-of-soccer-fans-on-players-performance-2012" class="level3">
<h3 class="anchored" data-anchor-id="working-under-pressure-evidence-from-the-impacts-of-soccer-fans-on-players-performance-2012">Working under Pressure: Evidence from the Impacts of Soccer Fans on Players’ Performance (2012)</h3>
<p><strong>with Breno Braga</strong><br>
<em>Economics Letters</em><br>
<a href="https://www.sciencedirect.com/science/article/abs/pii/S0165176511003971">Article</a> · <a href="https://doi.org/10.1016/j.econlet.2011.10.017">DOI</a></p>
<details>
<summary>
Abstract
</summary>
Using match-level data, this paper studies how social pressure affects individual performance. We show that higher crowd intensity has a statistically significant impact on players’ outcomes, providing evidence on behavioral responses under pressure.
</details>
<hr>
</section>
</section>
<section id="working-papers" class="level2">
<h2 class="anchored" data-anchor-id="working-papers">Working Papers</h2>
<section id="the-not-so-quiet-revolution-signal-and-noise-in-central-bank-communication-2025" class="level3">
<h3 class="anchored" data-anchor-id="the-not-so-quiet-revolution-signal-and-noise-in-central-bank-communication-2025">The Not So Quiet Revolution: Signal and Noise in Central Bank Communication (2025)</h3>
<p><strong>with Leonardo Nogueira Ferreira, Caio Garzeri, Antônio Lima, and Victor Monteiro</strong><br>
<em>Central Bank of Brazil — Working Paper Series No.&nbsp;635</em><br>
<a href="https://www.bcb.gov.br/content/publicacoes/WorkingPaperSeries/WP635.pdf">PDF</a></p>
<details>
<summary>
Abstract
</summary>
This paper studies central bank communication under heightened uncertainty. We decompose official communication into informative signal and uninformative noise and analyze their respective effects on expectations and market outcomes, highlighting trade-offs in transparency and clarity.
</details>
<hr>
</section>
<section id="an-organizational-structure-approach-to-price-setting-and-monetary-policy-2025" class="level3">
<h3 class="anchored" data-anchor-id="an-organizational-structure-approach-to-price-setting-and-monetary-policy-2025">An Organizational Structure Approach to Price Setting and Monetary Policy (2025)</h3>
<p><strong>with Victor Monteiro</strong><br>
<em>Central Bank of Brazil — Working Paper Series No.&nbsp;638</em><br>
<a href="https://www.bcb.gov.br/content/publicacoes/WorkingPaperSeries/WP638.pdf">PDF</a></p>
<details>
<summary>
Abstract
</summary>
We develop a New Keynesian framework in which price rigidity emerges endogenously from organizational structure and incentive misalignment within firms. The model generates novel implications for inflation dynamics and the transmission of monetary policy.
</details>
<hr>
</section>
<section id="following-the-informational-footsteps-of-the-supply-chain-tracks-2025" class="level3">
<h3 class="anchored" data-anchor-id="following-the-informational-footsteps-of-the-supply-chain-tracks-2025">Following the Informational Footsteps of the Supply Chain Tracks (2025)</h3>
<p><strong>with Victor Monteiro and Thiago Christiano Silva</strong><br>
<em>Central Bank of Brazil — Working Paper Series No.&nbsp;640</em><br>
<a href="https://www.bcb.gov.br/content/publicacoes/WorkingPaperSeries/WP640.pdf">PDF</a></p>
<details>
<summary>
Abstract
</summary>
This paper studies information propagation in production networks using a model with incomplete information at the firm level. We link information frictions, network structure, and aggregate shock transmission, and provide supporting evidence using Brazilian firm-to-firm transaction data.
</details>
<hr>
</section>
<section id="local-government-spending-and-employment-regression-discontinuity-evidence-from-brazil-2017" class="level3">
<h3 class="anchored" data-anchor-id="local-government-spending-and-employment-regression-discontinuity-evidence-from-brazil-2017">Local Government Spending and Employment: Regression Discontinuity Evidence from Brazil (2017)</h3>
<p><strong>with Breno Braga and Benjamin Thompson</strong><br>
<em>Working Paper</em><br>
<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2966187">SSRN</a></p>
<details>
<summary>
Abstract
</summary>
Using regression discontinuity designs, we estimate the causal effects of local government spending on employment outcomes in Brazil, providing evidence on the labor-market impact of fiscal policy at the local level.
</details>
<hr>
</section>
<section id="optimal-policy-with-liquidity-frictions-2014" class="level3">
<h3 class="anchored" data-anchor-id="optimal-policy-with-liquidity-frictions-2014">Optimal Policy with Liquidity Frictions (2014)</h3>
<p><strong>with Wei Cui</strong><br>
<em>Working Paper</em><br>
<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2477334">SSRN</a></p>
<details>
<summary>
Abstract
</summary>
This paper studies optimal monetary policy in environments with liquidity frictions. We characterize policy trade-offs between stabilization and efficiency when financial constraints affect the transmission of monetary interventions.
</details>
<hr>
</section>
</section>
<section id="book-chapters-english" class="level2">
<h2 class="anchored" data-anchor-id="book-chapters-english">Book Chapters (English)</h2>
<section id="the-monetary-and-fiscal-history-of-brazil-19602016" class="level3">
<h3 class="anchored" data-anchor-id="the-monetary-and-fiscal-history-of-brazil-19602016">The Monetary and Fiscal History of Brazil: 1960–2016</h3>
<p><strong>with João Ayres, Márcio Garcia, and Patrick Kehoe</strong><br>
<em>Book Chapter, in Juan Pablo Nicolini and Timothy J. Kehoe (eds.),</em><br>
<em>A Monetary and Fiscal History of Latin America, 1960–2017</em><br>
<a href="https://www.upress.umn.edu/9781517911362/a-monetary-and-fiscal-history-of-latin-america-19602017/">Book</a> · <a href="https://www.nber.org/system/files/working_papers/w25421/w25421.pdf">NBER WP version</a></p>
<details>
<summary>
Abstract
</summary>
This chapter provides a comprehensive account of Brazil’s monetary and fiscal history from 1960 to 2016. We emphasize regime changes, institutional developments, and the interaction between fiscal dominance and monetary policy.
</details>
<hr>
</section>
<section id="monetary-policy-decision-making-and-communication-under-heightened-uncertainty-in-brazil-2025" class="level3">
<h3 class="anchored" data-anchor-id="monetary-policy-decision-making-and-communication-under-heightened-uncertainty-in-brazil-2025">Monetary Policy Decision Making and Communication under Heightened Uncertainty in Brazil (2025)</h3>
<p><strong>with Leonardo Nogueira Ferreira</strong><br>
<em>Book Chapter, BIS Papers No.&nbsp;163</em><br>
<a href="https://www.bis.org/publ/bppdf/bispap163_d.pdf">Chapter PDF</a> · <a href="https://www.bis.org/publ/bppdf/bispap163.htm">Volume</a></p>
<details>
<summary>
Abstract
</summary>
This chapter analyzes how heightened uncertainty affects monetary policy decisions and communication strategies in Brazil. We discuss implications for expectation management, credibility, and policy effectiveness.
</details>
<hr>
</section>
<section id="inflation-and-labour-markets-in-the-wake-of-the-pandemic-the-case-of-brazil-2023" class="level3">
<h3 class="anchored" data-anchor-id="inflation-and-labour-markets-in-the-wake-of-the-pandemic-the-case-of-brazil-2023">Inflation and Labour Markets in the Wake of the Pandemic: The Case of Brazil (2023)</h3>
<p><strong>with Sergio Leão</strong><br>
<em>Book Chapter, BIS Papers No.&nbsp;142</em><br>
<a href="https://www.bis.org/publ/bppdf/bispap142_c.pdf">Chapter PDF</a> · <a href="https://www.bis.org/publ/bppdf/bispap142.pdf">Volume</a></p>
<details>
<summary>
Abstract
</summary>
This chapter studies inflation dynamics and labor market adjustments in Brazil following the COVID-19 pandemic, emphasizing sectoral heterogeneity and distributional effects.
</details>
<hr>
</section>
</section>
<section id="publications-in-portuguese" class="level2">
<h2 class="anchored" data-anchor-id="publications-in-portuguese">Publications in Portuguese</h2>
<section id="expectativas-desagregadas-credibilidade-do-banco-central-e-cadeias-de-markov-2014" class="level3">
<h3 class="anchored" data-anchor-id="expectativas-desagregadas-credibilidade-do-banco-central-e-cadeias-de-markov-2014">Expectativas Desagregadas, Credibilidade do Banco Central e Cadeias de Markov (2014)</h3>
<p><strong>with Márcio Garcia</strong><br>
<em>Revista Brasileira de Economia</em><br>
<a href="https://www.scielo.br/j/rbe/a/5KKzC7vQPSRyqFntfv87fcT/?format=pdf&amp;lang=pt">PDF</a></p>
<details>
<summary>
Abstract
</summary>
This paper analyzes disaggregated inflation expectations in Brazil using Markov chain techniques, highlighting the role of central bank credibility in shaping expectation dynamics.
</details>
<hr>
</section>
<section id="dispersão-na-fixação-de-preços-no-brasil-2011" class="level3">
<h3 class="anchored" data-anchor-id="dispersão-na-fixação-de-preços-no-brasil-2011">Dispersão na Fixação de Preços no Brasil (2011)</h3>
<p><strong>with Márcio Garcia</strong><br>
<em>Revista Brasileira de Economia</em><br>
<a href="https://www.scielo.br/j/rbe/a/rmNTdSB7wJFw3JtZJkQ6ycv/?format=pdf&amp;lang=pt">PDF</a></p>
<details>
<summary>
Abstract
</summary>
We document patterns of price dispersion in Brazil and discuss their implications for inflation dynamics and monetary policy transmission.
</details>
<hr>
</section>
<section id="futuro-da-política-monetária-no-brasil-2020" class="level3">
<h3 class="anchored" data-anchor-id="futuro-da-política-monetária-no-brasil-2020">Futuro da Política Monetária no Brasil (2020)</h3>
<p><em>Book Chapter, in Fábio Giambiagi (ed.),</em><br>
<em>O Futuro do Brasil</em><br>
<a href="https://repositorio.insper.edu.br/entities/publication/650268f7-24b4-4702-91a6-f586441157d7">Institutional record</a></p>
<details>
<summary>
Abstract
</summary>
This chapter discusses challenges and future directions for monetary policy in Brazil, with emphasis on institutional design, credibility, and communication.
</details>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/diogoguillen\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© {format-date(now(), ‘%Y’)} Diogo Guillen</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/diogoguillen">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>